<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Parks Weapon Pack</title>
  <style>
    :root{ --bg:#f6f7fb; --text:#0f1724; --card:#ffffff; --muted:#6b7280; }
    [data-theme="dark"]{ --bg:#0b1220; --text:#e6eef8; --card:#071025; --muted:#9aa4b2; }
    *{box-sizing:border-box}
    body{ margin:0; font-family:Inter,system-ui,Segoe UI,Arial; background:var(--bg); color:var(--text); padding:20px; }
    header{ display:flex; gap:12px; align-items:center; justify-content:space-between; }
    h1{ margin:0; font-size:20px; letter-spacing:0.4px }
    .controls{ display:flex; gap:8px; align-items:center }
    .btn{ background:#111827;color:white;padding:8px 10px;border-radius:8px;border:0;cursor:pointer;font-weight:600 }
    .btn.ghost{ background:transparent;color:var(--text);border:1px solid rgba(15,23,36,0.06) }
    .grid{ display:grid; grid-template-columns: repeat(auto-fill,minmax(180px,1fr)); gap:12px; margin-top:18px }
    .card{ background:var(--card); border-radius:12px; padding:12px; box-shadow:0 6px 18px rgba(12,18,30,0.06); cursor:pointer; position:relative; overflow:hidden }
    .thumb{ height:96px; display:flex; align-items:center; justify-content:center }
    .thumb svg{ width:76px; height:76px }
    .meta{ margin-top:10px }
    .meta b{ display:block }
    .tier{ font-size:12px; color:var(--muted); margin-top:6px }
    .tooltip{ position:absolute; right:10px; top:10px; background:rgba(0,0,0,0.75); color:#fff; padding:6px 8px; border-radius:8px; font-size:12px; display:none }
    .card:hover .tooltip{ display:block }

    /* modal */
    .modal{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(2,6,23,0.6); z-index:999; padding:20px }
    .modal-inner{ width:min(760px,96%); background:var(--card); border-radius:12px; padding:18px; position:relative }
    .close{ position:absolute; right:12px; top:10px;background:transparent;border:0;font-size:22px;cursor:pointer }

    /* spinner */
    .spinner-wrap{ margin-top:16px; display:flex; gap:10px; align-items:center }
    .wheel{ display:flex; gap:6px; overflow:hidden; width:420px; border-radius:999px; padding:8px; background:linear-gradient(90deg,#fff,#fafafa); box-shadow:inset 0 0 0 1px rgba(15,23,36,0.03) }
    .wheel .slot{ min-width:80px; min-height:72px; display:flex; align-items:center; justify-content:center; border-radius:8px; background:var(--card); box-shadow:0 4px 10px rgba(12,18,30,0.05); }
    .indicator{ width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:12px solid #111827; margin-left:8px }

    footer{ margin-top:20px; color:var(--muted); font-size:13px }

    @media (max-width:560px){ .wheel{ width:100%; } }
  </style>
</head>
<body>
  <header>
    <div>
      <h1>The Parks Weapon Pack</h1>
      <div style="color:var(--muted); font-size:13px">A lightweight static showcase — click cards, use the spin, toggle dark mode</div>
    </div>

    <div class="controls">
      <button id="btnAll" class="btn ghost">All</button>
      <button id="btnT1" class="btn ghost">Tier 1</button>
      <button id="btnT2" class="btn ghost">Tier 2</button>
      <button id="spinBtn" class="btn">Spin</button>
      <label style="display:flex;align-items:center;gap:6px">
        <input id="themeToggle" type="checkbox"> <small style="color:var(--muted)">Dark</small>
      </label>
    </div>
  </header>

  <main>
    <div class="spinner-wrap">
      <div class="wheel" id="wheel" aria-hidden="true"></div>
      <div class="indicator" title="result indicator"></div>
    </div>

    <div id="grid" class="grid" aria-live="polite"></div>
  </main>

  <div id="modal" class="modal" style="display:none" role="dialog" aria-hidden="true">
    <div class="modal-inner">
      <button class="close" id="modalClose">×</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <footer>
    Built for you — export this file and host it on GitHub Pages or any static host.
  </footer>

  <script>
    // Sample data for The Parks Weapon Pack
    const items = [
      { id:'park_canik', name:'Canik', tier:1, level:5, price:950, desc:'Compact sidearm. Reliable in close quarters.' },
      { id:'park_glock', name:'Glock 17', tier:1, level:5, price:1100, desc:'Standard issue. High capacity and durability.' },
      { id:'park_mac10', name:'MAC-10', tier:2, level:12, price:3500, desc:'High rate of fire SMG. Effective up close.' },
      { id:'park_fn57', name:'FN 57', tier:2, level:11, price:2400, desc:'Balanced pistol — accurate with stopping power.' },
      { id:'park_pump', name:'Pump Shotgun', tier:2, level:14, price:4200, desc:'Devastating at short range.' },
      { id:'park_m4', name:'M4A1', tier:2, level:18, price:8000, desc:'Versatile assault rifle with good handling.' }
    ];

    // small SVG generator for thumbnails (keeps file self-contained)
    function svgFor(name){
      const label = name.split(' ')[0];
      return `data:image/svg+xml;utf8,${encodeURIComponent(`
        <svg xmlns='http://www.w3.org/2000/svg' width='240' height='240'>
          <rect width='100%' height='100%' rx='16' fill='%23eef2ff'/>
          <text x='50%' y='55%' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='36' fill='%230b1220'>${label}</text>
        </svg>
      `)}`
    }

    const grid = document.getElementById('grid');
    const modal = document.getElementById('modal');
    const modalContent = document.getElementById('modalContent');
    const modalClose = document.getElementById('modalClose');
    const wheel = document.getElementById('wheel');
    const spinBtn = document.getElementById('spinBtn');

    function render(list){
      grid.innerHTML = '';
      list.forEach(it => {
        const c = document.createElement('div'); c.className='card'; c.tabIndex=0;
        c.innerHTML = `
          <div class='tooltip'>${formatMoney(it.price)}</div>
          <div class='thumb'><img src='${svgFor(it.name)}' alt='${it.name}' style='max-height:88px; max-width:88px' /></div>
          <div class='meta'><b>${it.name}</b><div class='tier'>Tier ${it.tier} • Level ${it.level}</div></div>
        `;
        c.addEventListener('click', ()=>openModal(it));
        c.addEventListener('keydown', (e)=>{ if(e.key==='Enter') openModal(it); });
        grid.appendChild(c);
      });
    }

    function openModal(item){
      modalContent.innerHTML = `
        <h2 style='margin-top:0'>${item.name}</h2>
        <p style='color:var(--muted)'>Tier ${item.tier} • Level ${item.level} • ${formatMoney(item.price)}</p>
        <p>${item.desc}</p>
      `;
      modal.style.display = 'grid';
      modal.setAttribute('aria-hidden','false');
    }
    modalClose.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); });
    function closeModal(){ modal.style.display='none'; modal.setAttribute('aria-hidden','true'); }

    function formatMoney(n){ return '$' + Number(n).toLocaleString(); }

    // Filters
    document.getElementById('btnAll').addEventListener('click', ()=> render(items));
    document.getElementById('btnT1').addEventListener('click', ()=> render(items.filter(i=>i.tier===1)));
    document.getElementById('btnT2').addEventListener('click', ()=> render(items.filter(i=>i.tier===2)));

    // Theme
    document.getElementById('themeToggle').addEventListener('change',(e)=>{
      if(e.target.checked) document.documentElement.setAttribute('data-theme','dark');
      else document.documentElement.removeAttribute('data-theme');
    });

    // Wheel / spin
    function populateWheel(pool){
      wheel.innerHTML = '';
      // show 12 slots (wrap around) by sampling the pool
      const slots = 12;
      for(let i=0;i<slots;i++){
        const pick = pool[i % pool.length];
        const s = document.createElement('div'); s.className='slot';
        s.innerHTML = `<img src='${svgFor(pick.name)}' alt='' style='max-width:64px;max-height:64px' />`;
        wheel.appendChild(s);
      }
    }

    function spin(){
      spinBtn.disabled = true;
      // Build pool (all items for now), weight by tier if wanted
      const pool = [...items];
      // pick result
      const result = pool[Math.floor(Math.random()*pool.length)];

      // Fill wheel with a shuffled sequence ending with result
      const seq = [];
      for(let i=0;i<9;i++) seq.push(pool[Math.floor(Math.random()*pool.length)]);
      // final three ensure result shows at the center slot after animation
      seq.push(result, result, result);
      wheel.innerHTML = '';
      seq.forEach(it=>{
        const s = document.createElement('div'); s.className='slot';
        s.innerHTML = `<img src='${svgFor(it.name)}' alt='' style='max-width:64px;max-height:64px' />`;
        wheel.appendChild(s);
      });

      // animate using CSS transform
      const totalWidth = wheel.scrollWidth;
      const visible = wheel.clientWidth;
      // translate so that the last (center) lands under indicator
      const finalOffset = (totalWidth - visible)/2;
      // simple keyframe-like animation via JS
      let start = null; const duration = 2200;
      const startX = 0; const endX = -finalOffset - (Math.random()*40 - 20);
      function step(ts){
        if(!start) start=ts;
        const t = Math.min(1, (ts-start)/duration);
        const eased = 1 - Math.pow(1 - t, 3);
        const x = startX + (endX-startX)*eased;
        wheel.style.transform = `translateX(${x}px)`;
        if(t<1) requestAnimationFrame(step);
        else {
          // show result modal after a short pause
          setTimeout(()=>{ openModal(result); spinBtn.disabled=false; }, 500);
        }
      }
      requestAnimationFrame(step);
    }

    spinBtn.addEventListener('click', spin);

    // initial render
    render(items);
    populateWheel(items);
  </script>
</body>
</html>
